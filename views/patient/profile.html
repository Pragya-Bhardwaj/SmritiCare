<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profile - SmritiCare</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/patient.css">
  <link rel="stylesheet" href="/css/profile.css">
  
  
</head>
<body>

<div class="dashboard">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="sidebar-logo">SmritiCare</div>
    <a href="/patient/dashboard">Dashboard</a>
    <a href="/patient/memory">Memory Board</a>
    <a href="/patient/reminders">Reminders</a>
    <a href="/patient/medication">Medication</a>
    <a href="/patient/selfcare">Self Care</a>
    <a href="/patient/profile" class="active" id="profileLink">
      <span>Profile</span>
      <span id="profileBadge" style="display:none; color: #ef4444; font-size: 18px; margin-left: 8px;">‚óè</span>
    </a>
    <a href="/auth/logout" class="logout-btn">Logout</a>
  </aside>

  <!-- MAIN CONTENT -->
  <main class="main">
    
    <header class="topbar">
      <strong>Patient Profile</strong>
    </header>

    <div class="profile-container">
      
      <!-- PROFILE HEADER -->
      <div class="profile-header">
        <div class="avatar-upload">
          <div class="avatar-circle" id="avatarPreview">
            <span id="avatarInitial"></span>
            <img id="avatarImage" style="display:none;">
          </div>
          <label class="avatar-edit-btn" for="profileImageInput">üì∑</label>
          <input type="file" id="profileImageInput" accept="image/*">
        </div>
        <h1 id="userName">Loading...</h1>
        <p id="userEmail" style="color: #64748b;"></p>
      </div>

      <!-- MY PROFILE SECTION -->
      <div class="profile-section">
        <h2>üë§ Patient Details</h2>
        
        <form id="profileForm">
          <div class="form-grid">
            
            <div class="form-group">
              <label for="name">Full Name *</label>
              <input type="text" id="name" required readonly>
            </div>

            <div class="form-group">
              <label for="email">Email *</label>
              <input type="email" id="email" required readonly>
            </div>

            <div class="form-group">
              <label for="phone">Phone Number *</label>
              <input type="tel" id="phone" placeholder="+91 98765 43210" required>
            </div>

            <div class="form-group">
              <label for="gender">Gender *</label>
              <select id="gender" required>
                <option value="">Select Gender</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Other">Other</option>
              </select>
            </div>

            <div class="form-group">
              <label for="dateOfBirth">Date of Birth *</label>
              <input type="date" id="dateOfBirth" required>
            </div>

            <div class="form-group">
              <label for="bloodGroup">Blood Group</label>
              <select id="bloodGroup">
                <option value="">Select Blood Group</option>
                <option value="A+">A+</option>
                <option value="A-">A-</option>
                <option value="B+">B+</option>
                <option value="B-">B-</option>
                <option value="AB+">AB+</option>
                <option value="AB-">AB-</option>
                <option value="O+">O+</option>
                <option value="O-">O-</option>
              </select>
            </div>

            <div class="form-group full-width">
              <label for="medicalCondition">Medical Condition</label>
              <textarea id="medicalCondition" placeholder="Describe medical conditions..."></textarea>
            </div>

            <div class="form-group full-width">
              <h3 style="margin: 16px 0 8px 0; color: #334155; font-size: 16px;">Emergency Contact</h3>
            </div>

            <div class="form-group">
              <label for="emergencyName">Contact Name</label>
              <input type="text" id="emergencyName" placeholder="Name">
            </div>

            <div class="form-group">
              <label for="emergencyPhone">Contact Phone</label>
              <input type="tel" id="emergencyPhone" placeholder="Phone Number">
            </div>

            <div class="form-group">
              <label for="emergencyRelation">Relation</label>
              <input type="text" id="emergencyRelation" placeholder="e.g., Daughter, Son">
            </div>

            <div class="form-group full-width">
              <h3 style="margin: 16px 0 8px 0; color: #334155; font-size: 16px;">Address</h3>
            </div>

            <div class="form-group full-width">
              <label for="street">Street Address</label>
              <input type="text" id="street" placeholder="Street Address">
            </div>

            <div class="form-group">
              <label for="city">City</label>
              <input type="text" id="city" placeholder="City">
            </div>

            <div class="form-group">
              <label for="state">State</label>
              <input type="text" id="state" placeholder="State">
            </div>

            <div class="form-group">
              <label for="pincode">Pincode</label>
              <input type="text" id="pincode" placeholder="Pincode">
            </div>

          </div>

          <div class="btn-container">
            <button type="button" class="btn btn-secondary" onclick="window.location.reload()">Cancel</button>
            <button type="submit" class="btn btn-primary">Save Profile</button>
          </div>
        </form>
      </div>

      <!-- CAREGIVER DETAILS SECTION -->
      <div class="profile-section linked-profile">
        <h2>üë®‚Äç‚öïÔ∏è Your Caregiver's Details</h2>
        <div id="caregiverDetails">
          <div class="no-linked-user">
            <p>No caregiver linked yet</p>
          </div>
        </div>
      </div>

    </div>

  </main>

</div>

<script src="/js/patientApp.js"></script>
<script src="/js/patientProfile.js"></script>
</body>
</html>